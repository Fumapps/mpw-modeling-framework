library BasicHelpers;

query Bag(String)::joinToString(separator: String) : String {
	return self->asSequence()->joinToString(separator);
}

// note: found no built-in way to join a collection to string, so build a iterative workaround as query.
query Sequence(String)::joinToString(separator: String) : String {
	var str := "";
	var first = true;
	self->forEach(o) {
	  if (first = false) {
	  	str := str + separator;
	  };
	  str := str + o.toString();
	  first := false;		
	};
	return str;
}
